{"version":3,"sources":["timepicker/ClockItem.js"],"names":["cx","PI","Math","TimePickerClockItem","getStyle","props","time","mode","number","single","parseInt","reduce","result","prefix","x","sin","y","cos","render","selected","className","addStates","build","format","displayName","propTypes","instanceOf","Date","isRequired","oneOf","bool","disabled","onClick","func"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;;;;AAUA,QAAMA,KAAK,uBAAO,qBAAP,CAAX;;AAEA,QAAMC,KAAKC,KAAKD,EAAhB;;AAEA;;;;;;;QAMqBE,mB;;;;;;;;sCAQjBC,Q,uBAAW;AAAA,yBAKH,KAAKC,KALF;AAAA,gBAGHC,IAHG,UAGHA,IAHG;AAAA,gBAIHC,IAJG,UAIHA,IAJG;;;AAOP,gBAAIC,SAAS,yBAAOF,IAAP,EAAaC,IAAb,GAAb;AACA,gBAAME,SAAS,EAAf;;AAEA,gBAAIF,SAAS,QAAb,EAAuB;AACnBC,yBAASE,SAASF,SAAS,CAAlB,EAAqB,EAArB,CAAT;AACH;;AAED,mBAAO,CAAC,QAAD,EAAW,KAAX,EAAkB,IAAlB,EAAwB,EAAxB,EACFG,MADE,CACK,UAACC,MAAD,EAASC,MAAT,EAAoB;AAAA;;AAExB,oBAAMC,IAAI,QAAQZ,KAAKa,GAAL,CAASN,SAASD,MAAT,GAAkBP,EAAlB,GAAuB,GAAhC,CAAlB;AACA,oBAAMe,IAAI,CAAC,KAAD,GAASd,KAAKe,GAAL,CAASR,SAASD,MAAT,GAAkBP,EAAlB,GAAuB,GAAhC,CAAnB;;AAEA,mDACOW,MADP,0DAEQC,MAFR,IAEiBA,SAAS,GAAT,GAAe,GAFhC,iCAE6DC,CAF7D,YAEqEE,CAFrE;AAKH,aAXE,EAWA,EAXA,CAAP;AAaH,S;;sCAQDE,M,qBAAS;AAAA,0BAMD,KAAKb,KANJ;AAAA,gBAGDc,QAHC,WAGDA,QAHC;AAAA,gBAIDb,IAJC,WAIDA,IAJC;AAAA,gBAKDC,IALC,WAKDA,IALC;;;AAQL,gBAAMa,YAAYpB,GAAG,KAAKK,KAAR,EACbgB,SADa,CACH,EAACF,kBAAD,EADG,EAEbG,KAFa,EAAlB;;AAIA,mBACI;AAAA;AAAA,kBAAM,WAAWF,SAAjB,EAA4B,OAAO,KAAKhB,QAAL,EAAnC;AACK,yCAAOE,IAAP,EAAaiB,MAAb,CAAoBhB,SAAS,MAAT,GAAkB,IAAlB,GAAyB,IAA7C;AADL,aADJ;AAKH,S;;;;;yBA5DgBJ,mB;;;AAgErBA,wBAAoBqB,WAApB,GAAkC,qBAAlC;;AAEArB,wBAAoBsB,SAApB,GAAgC;AAC5BnB,cAAM,iBAAUoB,UAAV,CAAqBC,IAArB,EAA2BC,UADL;AAE5BrB,cAAM,iBAAUsB,KAAV,CAAgB,CAAC,MAAD,EAAS,QAAT,CAAhB,EAAoCD,UAFd;AAG5BT,kBAAU,iBAAUW,IAHQ;AAI5BC,kBAAU,iBAAUD,IAJQ;AAK5BE,iBAAS,iBAAUC;AALS,KAAhC","file":"ClockItem.js","sourcesContent":["/**\n * @file melon/TimePickerClockItem\n * @author cxtom(cxtom2008@qq.com)\n */\n\nimport React, {PropTypes, Component} from 'react';\nimport moment from 'moment';\n\nimport {create} from 'melon-core/classname/cxBuilder';\n\nconst cx = create('TimePickerClockItem');\n\nconst PI = Math.PI;\n\n/**\n * melon/TimePickerClockItem\n *\n * @extends {React.Component}\n * @class\n */\nexport default class TimePickerClockItem extends Component {\n\n\n    /**\n     * 返回数字的样式\n     *\n     * @return {Object}  样式\n     */\n    getStyle() {\n\n        const {\n            time,\n            mode\n        } = this.props;\n\n        let number = moment(time)[mode]();\n        const single = 30;\n\n        if (mode === 'minute') {\n            number = parseInt(number / 5, 10);\n        }\n\n        return ['Webkit', 'Moz', 'ms', '']\n            .reduce((result, prefix) => {\n\n                const x = 6.125 * Math.sin(single * number * PI / 180);\n                const y = -6.125 * Math.cos(single * number * PI / 180);\n\n                return {\n                    ...result,\n                    [`${prefix}${prefix ? 'T' : 't'}ransform`]: `translate(${x}em, ${y}em)`\n                };\n\n            }, {});\n\n    }\n\n    /**\n     * 渲染\n     *\n     * @public\n     * @return {ReactElement}\n     */\n    render() {\n\n        const {\n            selected,\n            time,\n            mode\n        } = this.props;\n\n        const className = cx(this.props)\n            .addStates({selected})\n            .build();\n\n        return (\n            <span className={className} style={this.getStyle()}>\n                {moment(time).format(mode === 'hour' ? 'hh' : 'mm')}\n            </span>\n        );\n    }\n\n}\n\nTimePickerClockItem.displayName = 'TimePickerClockItem';\n\nTimePickerClockItem.propTypes = {\n    time: PropTypes.instanceOf(Date).isRequired,\n    mode: PropTypes.oneOf(['hour', 'minute']).isRequired,\n    selected: PropTypes.bool,\n    disabled: PropTypes.bool,\n    onClick: PropTypes.func\n};\n"]}